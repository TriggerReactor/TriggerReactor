plugins {
    id 'java'
    id 'groovy'
}

repositories {
    jcenter()
    mavenCentral()
}

javadoc {
    source = sourceSets.main.allJava
    classpath = configurations.compile
    failOnError = false
    options {
        links "https://docs.oracle.com/javase/8/docs/api/"
        links "https://hub.spigotmc.org/javadocs/bukkit/"
        links "https://jd.spongepowered.org/7.0.0/"
    }
}

subprojects {
    apply plugin: 'java'

    ext {
        id = 'TriggerReactor'
        version = '3.0.0'
        description = 'Simple script parser with infinite possibility'
        author = 'wysohn'
        authors = [
                'soliddanii',
                'MidnightSugar',
                'TheBestNightSky',
                'dltks0306',
                'RubrumExPlaneta',
                'Alex4386',
                'RedLime',
                'mrandriyg',
                'professer_snape'
        ]
    }

    sourceSets {
        main {
            java {
                srcDirs = ['src/main/java']
            }
            resources {
                srcDirs = ['src/main/resources']
                include '**/*.js'
                include '**/*.yml'
            }
        }

        test {
            java {
                srcDirs = ['src/test/java/']
            }
        }
    }

    repositories {
        jcenter()
        mavenCentral()

        //bstats
        maven {
            name = 'CodeMC'
            url = 'https://repo.codemc.org/repository/maven-public'
        }
    }

    dependencies {
        // https://mvnrepository.com/artifact/mysql/mysql-connector-java
        compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.13'

        // https://mvnrepository.com/artifact/mysql/mysql-connector-java
        compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.13'

        testCompile 'junit:junit:4.+'
        testCompile 'org.mockito:mockito-core:2.+'
        testCompile 'eu.codearte.catch-exception:catch-exception:1.+'
        testCompile 'org.assertj:assertj-core:1.+'
    }

    task printName {
        doLast { task -> println "- Project: $task.project.name" }
    }
}